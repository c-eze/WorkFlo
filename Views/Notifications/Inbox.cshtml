@model IEnumerable<AspnetCoreMvcFull.Models.Notification>

@{
	ViewData["Title"] = "Inbox";
}

<h4>Inbox</h4>
<nav aria-label="breadcrumb">
	<ol class="breadcrumb">
		<li class="breadcrumb-item">Company</li>
		<li class="breadcrumb-item active" aria-current="page">Inbox</li>
	</ol>
</nav>

<div class="row">
	<div class="col-6">
		@foreach (var notification in Model.OrderByDescending(n => n.Created))
		{
			<div class="border p-3" style="background-color: white;">
				<div class="d-flex justify-content-between">
					<div class="text-secondary" style="font-size:small"><i class='bx bxs-square text-info' style="font-size:x-small"></i><span> @Html.DisplayFor(modelItem => notification.Ticket.Project.Name)</span></div>
					<form asp-controller="Notifications" asp-action="Archive" asp-route-id="@notification.Id" method="post">
						<div>
							<button type="submit" class="btn"><i class='bx bx-box'></i></button>
						</div>
					</form>
				</div>
				<div class="d-flex justify-content-between">
					<a asp-controller="Notifications" asp-action="Note" asp-route-id="@notification.Id" asp-route-ticketId="@notification.Ticket.Id">
						<div>
							<i class='bx bx-check-circle text-success'></i>  <strong>@Html.DisplayFor(modelItem => notification.Ticket.Title)</strong>
						</div>
					</a>
					@if (!notification.Viewed)
					{
						<div style="font-size:small"><i class="bi bi-circle-fill text-primary"></i></div>
					}
				</div>
				<div class="p-2" style="font-size:small"><i class='bx bxs-zap text-warning'></i> @Html.DisplayFor(modelItem => notification.Title) <i class="bi bi-dot"></i> <span style="font-size:x-small" class="text-secondary">@Html.DisplayFor(modelItem => notification.Created)</span></div>
			</div>
		}
	</div>
</div>

